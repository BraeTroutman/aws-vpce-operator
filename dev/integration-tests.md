# OSDE2E Integration Tests

This document describes how to run this repository's osde2e integration tests locally. Otherwise, they run after each
merge.

## Prerequisites

* (Recommended) [kind](https://kind.sigs.k8s.io/)
* (Optional) [ginkgo](https://onsi.github.io/ginkgo/#ginkgo-cli-overview)

## Procedure

1. Create a cluster and prepare your local environment to have cluster-admin:

    ```bash
    # Leveraging kind:
    kind create cluster
   
    # Leveraging rosa:
    rosa create cluster
    rosa create admin
    oc login
    ```

2. Run the osde2e integration tests

    ```bash
    go test osde2e --tags=osde2e
   
    # Or alternatively using ginkgo CLI (same behavior)
    ginkgo --tags=osde2e osde2e
    ```

3. A success

    ```
    Summarizing 1 Failure:
    [FAIL] [ReportAfterSuite] Autogenerated ReportAfterSuite for --junit-report
    /Users/mshen/go/pkg/mod/github.com/onsi/ginkgo/v2@v2.19.0/reporting_dsl.go:194

    Ran 3 of 3 Specs in 3.272 seconds
    FAIL! -- 3 Passed | 0 Failed | 0 Pending | 0 Skipped
    ```